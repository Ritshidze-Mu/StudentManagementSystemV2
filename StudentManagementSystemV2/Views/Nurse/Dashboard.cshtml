@model StudentManagementSystemV2.Models.ViewModels.NurseDashboardViewModel
@{
    ViewBag.Title = "Nurse Dashboard";
}

<div class="container">
    <h2 class="mb-4">Welcome, @Model.NurseName</h2>

    <div class="row">
        <!-- Today's Appointments Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <i class="fas fa-calendar-check text-primary"></i> Today's Appointments
                    </h5>
                    <p class="card-text">@Model.TodaysAppointments.Count appointments</p>
                    <a href="@Url.Action("TodaysAppointments", "Nurse")" class="btn btn-primary mt-auto">
                        <i class="fas fa-eye"></i> View
                    </a>
                </div>
            </div>
        </div>

        <!-- Upcoming Appointments Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <i class="fas fa-calendar-alt text-secondary"></i> Upcoming Appointments
                    </h5>
                    <p class="card-text">@Model.UpcomingAppointments.Count appointments</p>
                    <a href="@Url.Action("UpcomingAppointments", "Nurse")" class="btn btn-secondary mt-auto">
                        <i class="fas fa-eye"></i> View
                    </a>
                </div>
            </div>
        </div>

        <!-- Diagnose Patient Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <i class="fas fa-stethoscope text-info"></i> Diagnose Patient
                    </h5>
                    <p class="card-text">Record patient symptoms</p>
                    @if (Model.TodaysAppointments.Any())
                    {
                        <a href="@Url.Action("DiagnosisForm", "Nurse", new { id = Model.TodaysAppointments.First().Id })"
                           class="btn btn-info mt-auto">
                            <i class="fas fa-notes-medical"></i> Start
                        </a>
                    }
                    else
                    {
                        <button class="btn btn-info mt-auto" disabled>
                            <i class="fas fa-notes-medical"></i> No Appointments
                        </button>
                    }
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Prescription Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <i class="fas fa-prescription-bottle-alt text-success"></i> Prescription
                    </h5>
                    <p class="card-text">Prescribe medication</p>
                    @if (Model.TodaysAppointments.Any())
                    {
                        <a href="@Url.Action("PrescriptionForm", "Nurse", new { id = Model.TodaysAppointments.First().Id })"
                           class="btn btn-success mt-auto">
                            <i class="fas fa-plus-circle"></i> Create
                        </a>
                    }
                    else
                    {
                        <button class="btn btn-success mt-auto" disabled>
                            <i class="fas fa-plus-circle"></i> No Appointments
                        </button>
                    }
                </div>
            </div>
        </div>

        <!-- Referral Card -->
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <i class="fas fa-user-md text-warning"></i> Refer to Doctor
                    </h5>
                    <p class="card-text">Refer patient to specialist</p>
                    @if (Model.TodaysAppointments.Any())
                    {
                        <a href="@Url.Action("ReferralForm", "Nurse", new { id = Model.TodaysAppointments.First().Id })"
                           class="btn btn-warning mt-auto">
                            <i class="fas fa-share-square"></i> Refer
                        </a>
                    }
                    else
                    {
                        <button class="btn btn-warning mt-auto" disabled>
                            <i class="fas fa-share-square"></i> No Appointments
                        </button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>